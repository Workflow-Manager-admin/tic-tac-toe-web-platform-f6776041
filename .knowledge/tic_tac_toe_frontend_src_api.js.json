{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for interacting with a FastAPI backend in a React frontend application for a Tic-Tac-Toe web platform. It includes functions for token management, authentication, game management, and fetching user and game data.", "external_files": ["react", "fetch API", "environment variables (REACT_APP_API_BASE)"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "fetch"], "published": ["getToken", "setToken", "clearToken", "login", "register", "fetchMe", "fetchLeaderboard", "fetchGameHistory", "startGame", "makeMove"], "classes": [], "methods": [{"name": "getToken()", "description": "Retrieves the current authentication token from local storage.", "scope": "", "scopeKind": ""}, {"name": "setToken(token)", "description": "Stores a new authentication token in local storage.", "scope": "", "scopeKind": ""}, {"name": "clearToken()", "description": "Removes the authentication token from local storage.", "scope": "", "scopeKind": ""}, {"name": "authFetch(path, options = {})", "description": "Wrapper around fetch that adds authentication headers and handles 401 Unauthorized responses.", "scope": "", "scopeKind": ""}, {"name": "login(username, password)", "description": "Performs login by sending username and password to the backend, stores received token.", "scope": "", "scopeKind": ""}, {"name": "register(username, password)", "description": "Registers a new user with the backend.", "scope": "", "scopeKind": ""}, {"name": "fetchMe()", "description": "Fetches current authenticated user information.", "scope": "", "scopeKind": ""}, {"name": "fetchLeaderboard()", "description": "Fetches the game leaderboard data.", "scope": "", "scopeKind": ""}, {"name": "fetchGameHistory()", "description": "Fetches the game history of the authenticated user.", "scope": "", "scopeKind": ""}, {"name": "startGame(mode, opponent = null)", "description": "Starts a new game session, either PvP or against AI.", "scope": "", "scopeKind": ""}, {"name": "makeMove(gameId, cellIdx)", "description": "Sends a move (cell index) for a specific game to the backend.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "fetch", "authFetch", "fetch"], "search-terms": ["api utility", "auth fetch", "tic-tac-toe frontend", "token management", "game start", "move"], "state": 2, "file_id": 13, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^const API_BASE = process.env.REACT_APP_API_BASE || 'http:\\/\\/localhost:8000';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "authFetch.headers", "scopeKind": "class"}, {"_type": "tag", "name": "authFetch", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^async function authFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "clearToken", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function clearToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchGameHistory", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function fetchGameHistory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchLeaderboard", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function fetchLeaderboard() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchMe", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function fetchMe() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "authFetch", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function login(username, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(username, password)"}, {"_type": "tag", "name": "makeMove", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function makeMove(gameId, cellIdx) {$/", "language": "JavaScript", "kind": "function", "signature": "(gameId, cellIdx)"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function register(username, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(username, password)"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export function setToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "startGame", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-web-platform-f6776041/tic_tac_toe_frontend/src/api.js", "pattern": "/^export async function startGame(mode, opponent = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(mode, opponent = null)"}], "hash": "deb3d5a4deaee3c9b07c22f1cf2dcd5d", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/api.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "authFetch.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"31": ""}]}